import base64
import sys

def run_base64_encoded(encoded_code):
      
        decoded_bytes = base64.b64decode(encoded_code)
    
        code = decoded_bytes.decode('utf-8')
   
        exec(code, globals())


if __name__ == "__main__":
    encoded_script = "aW1wb3J0IGh0dHB4CmltcG9ydCB0aW1lCmltcG9ydCByYW5kb20KaW1wb3J0IG9zCmltcG9ydCBqc29uICwgbXN2Y3J0ICwgcG9ydGFsb2NrZXIKZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciwgYXNfY29tcGxldGVkCmltcG9ydCBjbG91ZHNjcmFwZXIKCmZyb20gY29sb3JhbWEgaW1wb3J0IGluaXQsIEZvcmUsIFN0eWxlCmluaXQoYXV0b3Jlc2V0PVRydWUpCm9zLnN5c3RlbSgiY29sb3IgMEEiKQpvcy5zeXN0ZW0oInBpcCBpbnN0YWxsIGh0dHB4IGNsb3Vkc2NyYXBlciBwb3J0YWxvY2tlciBjb2xvcmFtYSIpCm9zLnN5c3RlbSgiY2xzIiBpZiBvcy5uYW1lID09ICJudCIgZWxzZSAiY2xlYXIiKQpvcy5zeXN0ZW0oImNoY3AgNjUwMDEiKQpvcy5zeXN0ZW0oInRpdGxlIE1hZGUgYnkgLSBTbzlhIikKQkFOTkVSID0gciIiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAg4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4paI4paI4paI4paI4pWXIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKVlyAgIOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAg4paI4paI4paI4paI4paI4paI4pWXICDilojilojilojilojilojilojilZcg4paI4paI4paI4paI4paI4paI4paI4paI4pWXCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDilojilojilZTilZDilZDilZDilZDilZ3ilojilojilZTilZDilZDilojilojilZfilojilojilZHilojilojilZTilZDilZDilZDilZDilZ3ilojilojilojilojilZcgIOKWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVlyAgICDilojilojilZTilZDilZDilojilojilZfilojilojilZTilZDilZDilZDilojilojilZfilZrilZDilZDilojilojilZTilZDilZDilZ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWR4paI4paI4paI4paI4paI4pWXICDilojilojilZTilojilojilZcg4paI4paI4pWR4paI4paI4pWRICDilojilojilZEgICAg4paI4paI4paI4paI4paI4paI4pWU4pWd4paI4paI4pWRICAg4paI4paI4pWRICAg4paI4paI4pWRICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDilojilojilZTilZDilZDilZ0gIOKWiOKWiOKVlOKVkOKVkOKWiOKWiOKVl+KWiOKWiOKVkeKWiOKWiOKVlOKVkOKVkOKVnSAg4paI4paI4pWR4pWa4paI4paI4pWX4paI4paI4pWR4paI4paI4pWRICDilojilojilZEgICAg4paI4paI4pWU4pWQ4pWQ4paI4paI4pWX4paI4paI4pWRICAg4paI4paI4pWRICAg4paI4paI4pWRICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICDilojilojilZEgICAgIOKWiOKWiOKVkSAg4paI4paI4pWR4paI4paI4pWR4paI4paI4paI4paI4paI4paI4paI4pWX4paI4paI4pWRIOKVmuKWiOKWiOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKVlOKVnSAgICDilojilojilojilojilojilojilZTilZ3ilZrilojilojilojilojilojilojilZTilZ0gICDilojilojilZEgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVmuKVkOKVnSAgICAg4pWa4pWQ4pWdICDilZrilZDilZ3ilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZ0gIOKVmuKVkOKVkOKVkOKVneKVmuKVkOKVkOKVkOKVkOKVkOKVnSAgICAg4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWdICDilZrilZDilZDilZDilZDilZDilZ0gICAg4pWa4pWQ4pWdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKIiIiCgpMT0dPX1NUQVJUX0NPTE9SID0gKDI1NSwgMCwgMCkgICAgCkxPR09fRU5EX0NPTE9SID0gKDEwMiwgMTEsIDE5MykgICAKTUVOVV9DT0xPUiA9IEZvcmUuTUFHRU5UQQpPUFRJT05fQ09MT1IgPSBGb3JlLlJFRApQUk9NUFRfQ09MT1IgPSBGb3JlLkxJR0hUR1JFRU5fRVgKCmRlZiBwcmludF9sb2dvKCk6CiAgICBmb3IgbGluZSBpbiBCQU5ORVIuc3BsaXRsaW5lcygpOgogICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUobGluZSkKCmRlZiBwcmludF9ncmFkaWVudF9saW5lKHRleHQsIHN0YXJ0X2NvbG9yPUxPR09fU1RBUlRfQ09MT1IsIGVuZF9jb2xvcj1MT0dPX0VORF9DT0xPUik6CiAgICBpZiBub3QgdGV4dC5zdHJpcCgpOgogICAgICAgIHByaW50KCkKICAgICAgICByZXR1cm4KICAgIAogICAgc3RlcHMgPSBsZW4odGV4dCkgLSAxIGlmIGxlbih0ZXh0KSA+IDEgZWxzZSAxCiAgICByX3N0YXJ0LCBnX3N0YXJ0LCBiX3N0YXJ0ID0gc3RhcnRfY29sb3IKICAgIHJfZW5kLCBnX2VuZCwgYl9lbmQgPSBlbmRfY29sb3IKCiAgICBncmFkaWVudF90ZXh0ID0gIiIKICAgIGZvciBpLCBjaGFyIGluIGVudW1lcmF0ZSh0ZXh0KToKICAgICAgICByID0gaW50KHJfc3RhcnQgKyAocl9lbmQgLSByX3N0YXJ0KSAqIChpIC8gc3RlcHMpKQogICAgICAgIGcgPSBpbnQoZ19zdGFydCArIChnX2VuZCAtIGdfc3RhcnQpICogKGkgLyBzdGVwcykpCiAgICAgICAgYiA9IGludChiX3N0YXJ0ICsgKGJfZW5kIC0gYl9zdGFydCkgKiAoaSAvIHN0ZXBzKSkKICAgICAgICBncmFkaWVudF90ZXh0ICs9IGYnXDAzM1szODsyO3tyfTt7Z307e2J9bXtjaGFyfScKCiAgICBncmFkaWVudF90ZXh0ICs9IFN0eWxlLlJFU0VUX0FMTAogICAgcHJpbnQoZ3JhZGllbnRfdGV4dCkKd2l0aCBvcGVuKCJjb29raWUudHh0IiwgInIiKSBhcyBmOgogICAgY29va2llID0gZi5yZWFkKCkuc3RyaXAoKQppZiBub3QgY29va2llOgogICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiQ29va2llIG5vdCBmb3VuZCBpbiBjb29raWUudHh0IikKICAgIHRpbWUuc2xlZXAoMykKICAgIHByaW50X2dyYWRpZW50X2xpbmUoIlBsZWFzZSBhZGQgeW91ciBjb29raWUgdG8gY29va2llLnR4dCIpCmNoZWNrX2RlbGF5ID0gMgptYXhfdGhyZWFkcyA9IDEuNQpkZWxheSA9IDIKcHJvY2Vzc2VkX3BsYXllcnMgPSBzZXQoKQpyZXF1ZXN0ZWRfcGxheWVycyA9IHNldCgpIApQRU5ESU5HX1JFUVVFU1RTX0ZJTEUgPSAicGVuZGluZ19pZHMudHh0IiAgCgpkZWYgZ2V0X25ld19hY2Nlc3NfdG9rZW4oKToKICAgIAoKICAgIGdsb2JhbCBhY2Nlc3NfdG9rZW4sIGhlYWRlcnMKICAgIHNjcmFwZXIgPSBjbG91ZHNjcmFwZXIuY3JlYXRlX3NjcmFwZXIoKQogICAgaGVhZGVycyA9IHsKICAgICAgICAiQ29va2llIjogY29va2llLAogICAgICAgICJVc2VyLUFnZW50IjogIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA2LjA7IE5leHVzIDUgQnVpbGQvTVJBNThOKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTM1LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwKICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIKICAgIH0KICAgIHJlc3BvbnNlID0gc2NyYXBlci5nZXQoImh0dHBzOi8vcmVjLm5ldC9hcGkvYXV0aC9zZXNzaW9uIiwgaGVhZGVycz1oZWFkZXJzKQogICAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgIGFjY2Vzc190b2tlbiA9IHJlc3BvbnNlLmpzb24oKS5nZXQoImFjY2Vzc1Rva2VuIikKICAgICAgICBoZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBmJ0JlYXJlciB7YWNjZXNzX3Rva2VufScKICAgICAgICByZXR1cm4gYWNjZXNzX3Rva2VuCiAgICBlbGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDQwMzoKICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKCI0MDMgZXJyb3IgdHJ5aW5nIGFnYWluISIpCiAgICAgICAgcmV0dXJuIGdldF9uZXdfYWNjZXNzX3Rva2VuKCkKICAgIHJldHVybiBOb25lCgpyb29tX2lkcyA9IFsKICAgIDE3MDEyNiwgCiAgICAxNzAxMzAsCiAgICAxNzAxMjcsCiAgICAxNzAxMzQsCiAgICAxNzAxMzIsCiAgICAxNzAxNDcsCiAgICAxNzAxNDEKXQoKYWNjZXNzX3Rva2VuID0gZ2V0X25ld19hY2Nlc3NfdG9rZW4oKQppZiBub3QgYWNjZXNzX3Rva2VuOgogICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiRmFpbGVkIHRvIGdldCBhY2Nlc3MgdG9rZW4iKQogICAgYWNjZXNzX3Rva2VuKCkKCmhlYWRlcnMgPSB7CiAgICAnQXV0aG9yaXphdGlvbic6IGYnQmVhcmVyIHthY2Nlc3NfdG9rZW59JywKICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCn0KCmRlZiBsb2FkX3BlbmRpbmdfaWRzKCk6CiAgICB0cnk6CiAgICAgICAgd2l0aCBvcGVuKFBFTkRJTkdfUkVRVUVTVFNfRklMRSwgInIiKSBhcyBmOgogICAgICAgICAgICByZXR1cm4gc2V0KGxpbmUuc3RyaXAoKSBmb3IgbGluZSBpbiBmIGlmIGxpbmUuc3RyaXAoKSkKICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKICAgICAgICByZXR1cm4gc2V0KCkKCmRlZiBzYXZlX3BlbmRpbmdfaWQocGxheWVyX2lkKToKICAgIHdpdGggb3BlbihQRU5ESU5HX1JFUVVFU1RTX0ZJTEUsICJhIikgYXMgZjoKICAgICAgICBwb3J0YWxvY2tlci5sb2NrKGYsIHBvcnRhbG9ja2VyLkxPQ0tfRVgpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmLndyaXRlKGYie3BsYXllcl9pZH1cbiIpCiAgICAgICAgICAgIGYuZmx1c2goKQogICAgICAgICAgICB0aW1lLnNsZWVwKGRlbGF5KQogICAgICAgIGZpbmFsbHk6CiAgICAgICAgICAgIHBvcnRhbG9ja2VyLnVubG9jayhmKQoKZGVmIHJlbW92ZV9wZW5kaW5nX2lkKHBsYXllcl9pZCk6CiAgICBwZW5kaW5nX2lkcyA9IGxvYWRfcGVuZGluZ19pZHMoKQogICAgcGVuZGluZ19pZHMuZGlzY2FyZChzdHIocGxheWVyX2lkKSkKICAgIHdpdGggb3BlbihQRU5ESU5HX1JFUVVFU1RTX0ZJTEUsICJ3IikgYXMgZjoKICAgICAgICBmLndyaXRlKCJcbiIuam9pbihwZW5kaW5nX2lkcykpCgpkZWYgZGVsZXRlX2ZyaWVuZF9yZXF1ZXN0KHBsYXllcl9pZCk6CgogICAgdXJsID0gZidodHRwczovL2FwaS5yZWMubmV0L2FwaS9yZWxhdGlvbnNoaXBzL3YzL3twbGF5ZXJfaWR9JwogICAgdHJ5OgogICAgICAgIHJlc3BvbnNlID0gaHR0cHguZGVsZXRlKHVybCwgaGVhZGVycz1oZWFkZXJzLCB0aW1lb3V0PTEwKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgaWYgY2hlY2tfcmVsYXRpb25zaGlwX3N0YXR1cyhwbGF5ZXJfaWQpID09IDM6CiAgICAgICAgICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKGYiQWxyZWFkeSBmcmllbmRzIHdpdGgge3BsYXllcl9pZH0sIHNraXBwaW5nIGRlbGV0aW9uIikKICAgICAgICAgICAgICAgIHJlbW92ZV9wZW5kaW5nX2lkKHBsYXllcl9pZCkKICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgICAgICBlbGlmIGNoZWNrX3JlbGF0aW9uc2hpcF9zdGF0dXMocGxheWVyX2lkKSA9PSAxOgogICAgICAgICAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIlN1Y2Nlc3NmdWxseSBkZWxldGVkIGZyaWVuZCByZXF1ZXN0IHRvIHtwbGF5ZXJfaWR9IikKICAgICAgICAgICAgICAgIHJlbW92ZV9wZW5kaW5nX2lkKHBsYXllcl9pZCkKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKGYiUmVxdWVzdCB0byB7cGxheWVyX2lkfSB3YXMgbm90IHNlbnQsIHNraXBwaW5nIGRlbGV0aW9uIikKICAgICAgICAgICAgICAgIHJlbW92ZV9wZW5kaW5nX2lkKHBsYXllcl9pZCkKICAgICAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSA0MDE6CiAgICAgICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUoIjQwMSBlcnJvciwgZ2V0dGluZyBuZXcgdG9rZW4gYW5kIHJldHJ5aW5nLi4uIikKICAgICAgICAgICAgZ2V0X25ld19hY2Nlc3NfdG9rZW4oKQogICAgICAgICAgICByZXR1cm4gZGVsZXRlX2ZyaWVuZF9yZXF1ZXN0KHBsYXllcl9pZCkKICAgICAgICBlbGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDQyOToKICAgICAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiUmF0ZSBsaW1pdCBoaXQsIHdhaXRpbmcgNSBzZWNvbmRzIikKICAgICAgICAgICAgdGltZS5zbGVlcCg1KQogICAgICAgICAgICByZXR1cm4gZGVsZXRlX2ZyaWVuZF9yZXF1ZXN0KHBsYXllcl9pZCkKICAgICAgICBlbHNlOgogICAgICAgICAgICAKICAgICAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIkZhaWxlZCB0byBkZWxldGUgcmVxdWVzdCB0byB7cGxheWVyX2lkfSAoU3RhdHVzOiB7cmVzcG9uc2Uuc3RhdHVzX2NvZGV9KSIpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUocmVzcG9uc2UudGV4dCAsIHJlc3BvbnNlLnN0YXR1c19jb2RlKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDQwMToKICAgICAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiNDAxIGVycm9yLCBnZXR0aW5nIG5ldyB0b2tlbiBhbmQgcmV0cnlpbmcuLi4iKQogICAgICAgICAgICBnZXRfbmV3X2FjY2Vzc190b2tlbigpCiAgICAgICAgICAgIHJldHVybiBkZWxldGVfZnJpZW5kX3JlcXVlc3QocGxheWVyX2lkKQogICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUoZiJFcnJvciBkZWxldGluZyByZXF1ZXN0IHRvIHtwbGF5ZXJfaWR9OiB7c3RyKGUpfSIpCiAgICAgICAgcmV0dXJuIEZhbHNlCgpkZWYgY2hlY2tfcmVsYXRpb25zaGlwX3N0YXR1cyhwbGF5ZXJfaWQpOgogICAKICAgIHVybCA9IGYiaHR0cHM6Ly9hcGkucmVjLm5ldC9hcGkvcmVsYXRpb25zaGlwcy92MS9yZWxhdGlvbnNoaXB3aXRoL3twbGF5ZXJfaWR9IgogICAgdHJ5OgogICAgICAgIHJlc3BvbnNlID0gaHR0cHguZ2V0KHVybCwgaGVhZGVycz1oZWFkZXJzLCB0aW1lb3V0PTEwKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgZGF0YSA9IHJlc3BvbnNlLmpzb24oKQogICAgICAgICAgICBpZiBkYXRhIGlzIE5vbmU6ICAKICAgICAgICAgICAgICAgIHJldHVybiAwICAKICAgICAgICAgICAgcmV0dXJuIGRhdGEuZ2V0KCJSZWxhdGlvbnNoaXBUeXBlIiwgMCkKICAgICAgICBlbGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDQwMToKICAgICAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiNDAxIGVycm9yLCBnZXR0aW5nIG5ldyB0b2tlbiBhbmQgcmV0cnlpbmcuLi4iKQogICAgICAgICAgICBnZXRfbmV3X2FjY2Vzc190b2tlbigpCiAgICAgICAgICAgIHJldHVybiBjaGVja19yZWxhdGlvbnNoaXBfc3RhdHVzKHBsYXllcl9pZCkKICAgICAgICBlbGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDQyOToKICAgICAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiUmF0ZSBsaW1pdCBoaXQsIHdhaXRpbmcgMyBzZWNvbmRzIikKICAgICAgICAgICAgdGltZS5zbGVlcCgzKQogICAgICAgICAgICByZXR1cm4gY2hlY2tfcmVsYXRpb25zaGlwX3N0YXR1cyhwbGF5ZXJfaWQpCiAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIlN0YXR1cyBjaGVjayBmYWlsZWQgZm9yIHtwbGF5ZXJfaWR9IChIVFRQIHtyZXNwb25zZS5zdGF0dXNfY29kZX0pIikKICAgICAgICByZXR1cm4gLTEgCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIkVycm9yIGNoZWNraW5nIHJlbGF0aW9uc2hpcCB3aXRoIHtwbGF5ZXJfaWR9OiB7c3RyKGUpfSIpCiAgICAgICAgcmV0dXJuIC0xCgpkZWYgc2VuZF9mcmllbmRfcmVxdWVzdChwbGF5ZXJfaWQpOgogICAgCiAgICBpZiBwbGF5ZXJfaWQgaW4gcHJvY2Vzc2VkX3BsYXllcnM6CiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAKICAgCiAgICByZWxhdGlvbnNoaXAgPSBjaGVja19yZWxhdGlvbnNoaXBfc3RhdHVzKHBsYXllcl9pZCkKICAgIAogICAgaWYgcmVsYXRpb25zaGlwID09IC0xOiAKICAgICAgICByZXR1cm4gRmFsc2UKICAgIGVsaWYgcmVsYXRpb25zaGlwID09IDM6IAogICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUoZiJBbHJlYWR5IGZyaWVuZHMgd2l0aCB7cGxheWVyX2lkfSwgc2tpcHBpbmciKQogICAgICAgIHByb2Nlc3NlZF9wbGF5ZXJzLmFkZChwbGF5ZXJfaWQpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBlbGlmIHJlbGF0aW9uc2hpcCA9PSAxOiAKICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKGYiUGVuZGluZyByZXF1ZXN0IGFscmVhZHkgZXhpc3RzIHdpdGgge3BsYXllcl9pZH0sIHNraXBwaW5nIikKICAgICAgICBwcm9jZXNzZWRfcGxheWVycy5hZGQocGxheWVyX2lkKQogICAgICAgIHJldHVybiBGYWxzZQogICAgCiAgIAogICAgdXJsID0gZidodHRwczovL2FwaS5yZWMubmV0L2FwaS9yZWxhdGlvbnNoaXBzL3YzL3twbGF5ZXJfaWR9JwogICAgdHJ5OgogICAgICAgIHJlc3BvbnNlID0gaHR0cHgucG9zdCh1cmwsIGhlYWRlcnM9aGVhZGVycywgdGltZW91dD0xMCkKICAgICAgICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDA6CiAgICAgICAgICAgIGlmIGNoZWNrX3JlbGF0aW9uc2hpcF9zdGF0dXMocGxheWVyX2lkKSA9PSAzOgogICAgICAgICAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIkFscmVhZHkgZnJpZW5kcyB3aXRoIHtwbGF5ZXJfaWR9LCBza2lwcGluZyIpCiAgICAgICAgICAgICAgICByZW1vdmVfcGVuZGluZ19pZChwbGF5ZXJfaWQpCiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIlNlbnQgZnJpZW5kIHJlcXVlc3QgdG8ge3BsYXllcl9pZH0iKQogICAgICAgICAgICBvcy5zeXN0ZW0oZiJ0aXRsZSBTZW50IGZyaWVuZCByZXF1ZXN0IHRvIFt7cGxheWVyX2lkfV0iKQogICAgICAgICAgICByZXF1ZXN0ZWRfcGxheWVycy5hZGQocGxheWVyX2lkKQogICAgICAgICAgICBzYXZlX3BlbmRpbmdfaWQocGxheWVyX2lkKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIGVsaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gNDAxOgogICAgICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKCI0MDEgZXJyb3IsIGdldHRpbmcgbmV3IHRva2VuIGFuZCByZXRyeWluZy4uLiIpCiAgICAgICAgICAgIGdldF9uZXdfYWNjZXNzX3Rva2VuKCkKICAgICAgICAgICAgcmV0dXJuIHNlbmRfZnJpZW5kX3JlcXVlc3QocGxheWVyX2lkKQogICAgICAgIGVsaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gNDAwOgogICAgICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKCJIaXQgbWF4IHBlbmRpbmcgZnJpZW5kIHJlcXVlc3RzIC0gc3RhcnRpbmcgY2xlYW51cCIpCiAgICAgICAgICAgIG9zLnN5c3RlbSgidGl0bGUgWy9dIHN0YXJ0aW5nIGNsZWFudXAiKQogICAgICAgICAgICBpZiBjbGVhcl9wZW5kaW5nX3JlcXVlc3RzKCk6CiAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRfZnJpZW5kX3JlcXVlc3QocGxheWVyX2lkKQogICAgICAgIGVsaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gNDI5OgogICAgICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKCJSYXRlIGxpbWl0IGhpdCwgd2FpdGluZyA1IHNlY29uZHMiKQogICAgICAgICAgICBvcy5zeXN0ZW0oInRpdGxlIFsvXSBSYXRlIGxpbWl0IGhpdCwgd2FpdGluZyA1IHNlY29uZHMiKQogICAgICAgICAgICB0aW1lLnNsZWVwKDUpCiAgICAgICAgICAgIHJldHVybiBzZW5kX2ZyaWVuZF9yZXF1ZXN0KHBsYXllcl9pZCkKICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKGYiRmFpbGVkIHRvIHNlbmQgdG8ge3BsYXllcl9pZH0gKFN0YXR1czoge3Jlc3BvbnNlLnN0YXR1c19jb2RlfSkiKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDQwMDoKICAgICAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiZmFsZCBhY2MgZGVsZXRpbmciKQogICAgICAgICAgICByZW1vdmVfcGVuZGluZ19pZChwbGF5ZXJfaWQpCiAgICAgICAgcmV0dXJuIEZhbHNlCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcGFzcwogICAgICAgIHJldHVybiBGYWxzZQoKZGVmIGNoZWNrX3JlcXVlc3Rfc3RhdHVzKHBsYXllcl9pZCk6CiAKICAgIHRpbWUuc2xlZXAoY2hlY2tfZGVsYXkpIAogICAgcmVsYXRpb25zaGlwID0gY2hlY2tfcmVsYXRpb25zaGlwX3N0YXR1cyhwbGF5ZXJfaWQpCiAgICBpZiByZWxhdGlvbnNoaXAgPT0gMzoKICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKGYiU3VjY2VzcyEge3BsYXllcl9pZH0gYWNjZXB0ZWQgdGhlIHJlcXVlc3QiKQogICAgICAgIG9zLnN5c3RlbShmInRpdGxlIFN1Y2Nlc3MhIHtwbGF5ZXJfaWR9IGFjY2VwdGVkIHRoZSByZXF1ZXN0IikKICAgICAgICByZW1vdmVfcGVuZGluZ19pZChwbGF5ZXJfaWQpCiAgICBlbGlmIHJlbGF0aW9uc2hpcCA9PSAxOgogICAgICAgIGRlbGV0ZV9mcmllbmRfcmVxdWVzdChwbGF5ZXJfaWQpICAKICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKGYiUmVxdWVzdCBzdGlsbCBwZW5kaW5nIHdpdGgge3BsYXllcl9pZH0sIGRlbGV0aW5nLi4uIikKICAgIGVsc2U6CiAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIk5vIHJlc3BvbnNlIGZyb20ge3BsYXllcl9pZH0iKQogICAgICAgIHJlbW92ZV9wZW5kaW5nX2lkKHBsYXllcl9pZCkKICAgIHByb2Nlc3NlZF9wbGF5ZXJzLmFkZChwbGF5ZXJfaWQpCgpkZWYgY2xlYXJfcGVuZGluZ19yZXF1ZXN0cygpOgogIAogICAgcGVuZGluZ19pZHMgPSBsb2FkX3BlbmRpbmdfaWRzKCkKICAgIGlmIG5vdCBwZW5kaW5nX2lkczoKICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKCJObyBwZW5kaW5nIHJlcXVlc3RzIHRvIGNsZWFyIikKICAgICAgICByZXR1cm4gRmFsc2UKICAgIAogICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIkZvdW5kIFt7bGVuKHBlbmRpbmdfaWRzKX1dIHBlbmRpbmcgcmVxdWVzdHMgdG8gY2xlYXIiKQogICAgCiAgICBzdWNjZXNzX2NvdW50ID0gMAogICAgd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MSkgYXMgZXhlY3V0b3I6CiAgICAgICAgZnV0dXJlcyA9IFtleGVjdXRvci5zdWJtaXQoZGVsZXRlX2ZyaWVuZF9yZXF1ZXN0LCBwaWQpIGZvciBwaWQgaW4gcGVuZGluZ19pZHNdCiAgICAgICAgZm9yIGZ1dHVyZSBpbiBhc19jb21wbGV0ZWQoZnV0dXJlcyk6CiAgICAgICAgICAgIGlmIGZ1dHVyZS5yZXN1bHQoKToKICAgICAgICAgICAgICAgIHN1Y2Nlc3NfY291bnQgKz0gMQogICAgCiAgICBwcmludF9ncmFkaWVudF9saW5lKGYiQ2xlYXJlZCBbe3N1Y2Nlc3NfY291bnR9XSBwZW5kaW5nIHJlcXVlc3RzIikKICAgIG9zLnN5c3RlbShmInRpdGxlIGNsZWFyZCBbe3N1Y2Nlc3NfY291bnR9XSBwZW5kaW5nIHJlcXVlc3RzISIpCiAgICByZXR1cm4gc3VjY2Vzc19jb3VudCA+IDAKCmRlZiBmZXRjaF9wbGF5ZXJfaWRzKHJvb21faWQpOgogCiAgICByb29tX2ltYWdlc191cmwgPSBmJ2h0dHBzOi8vYXBpbS5yZWMubmV0L2FwaXMvYXBpL2ltYWdlcy92NC9yb29tL3tyb29tX2lkfT9za2lwPTAmdGFrZT00MCZmaWx0ZXI9MSZzb3J0PTAnCiAgICB0cnk6CiAgICAgICAgcmVzcG9uc2UgPSBodHRweC5nZXQocm9vbV9pbWFnZXNfdXJsLCB0aW1lb3V0PTEwKQogICAgICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICAgICAgcGxheWVyX2lkcyA9IHNldCgpCiAgICAgICAgICAgIGZvciBpbWFnZSBpbiByZXNwb25zZS5qc29uKCk6CiAgICAgICAgICAgICAgICBwbGF5ZXJfaWRzLmFkZChpbWFnZVsiUGxheWVySWQiXSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgIlRhZ2dlZFBsYXllcklkcyIgaW4gaW1hZ2UgYW5kIGltYWdlWyJUYWdnZWRQbGF5ZXJJZHMiXToKICAgICAgICAgICAgICAgICAgICBmb3IgdGFnZ2VkX2lkIGluIGltYWdlWyJUYWdnZWRQbGF5ZXJJZHMiXToKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX2lkcy5hZGQodGFnZ2VkX2lkKQogICAgICAgICAgICAKICAgICAgICAgICAgcmV0dXJuIGxpc3QocGxheWVyX2lkcykgaWYgcGxheWVyX2lkcyBlbHNlIFtdCiAgICAgICAgZWxpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSA0MDE6CiAgICAgICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUoIjQwMSBlcnJvciwgZ2V0dGluZyBuZXcgdG9rZW4gYW5kIHJldHJ5aW5nLi4uIikKICAgICAgICAgICAgZ2V0X25ld19hY2Nlc3NfdG9rZW4oKQogICAgICAgICAgICByZXR1cm4gZmV0Y2hfcGxheWVyX2lkcyhyb29tX2lkKQogICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUoZiJGYWlsZWQgdG8gZmV0Y2ggcGxheWVycyBmcm9tIHJvb20ge3Jvb21faWR9IChTdGF0dXM6IHtyZXNwb25zZS5zdGF0dXNfY29kZX0pIikKICAgICAgICByZXR1cm4gW10KICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKGYiRXJyb3IgZmV0Y2hpbmcgcGxheWVycyBmcm9tIHJvb20ge3Jvb21faWR9OiB7c3RyKGUpfSIpCiAgICAgICAgcmV0dXJuIFtdCgpkZWYgcHJvY2Vzc19yb29tKHJvb21faWQpOgogIAogICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIlxuUHJvY2Vzc2luZyByb29tOiB7cm9vbV9pZH0iKQogICAgcGxheWVyX2lkcyA9IGZldGNoX3BsYXllcl9pZHMocm9vbV9pZCkKICAgIAogICAgaWYgbm90IHBsYXllcl9pZHM6CiAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIk5vIHBsYXllcnMgZm91bmQgaW4gcm9vbSB7cm9vbV9pZH0iKQogICAgICAgIHJldHVybgogICAgCiAgICBwcmludF9ncmFkaWVudF9saW5lKGYiRm91bmQge2xlbihwbGF5ZXJfaWRzKX0gcGxheWVycyAoaW5jbHVkaW5nIHRhZ2dlZCkgaW4gcm9vbSB7cm9vbV9pZH0iKQogICAgcmFuZG9tLnNodWZmbGUocGxheWVyX2lkcykKICAgIAogICAKICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPW1heF90aHJlYWRzKSBhcyBleGVjdXRvcjoKICAgICAgICBmdXR1cmVzID0gW10KICAgICAgICBmb3IgcGlkIGluIHBsYXllcl9pZHM6CiAgICAgICAgICAgIGlmIHBpZCBub3QgaW4gcHJvY2Vzc2VkX3BsYXllcnM6CiAgICAgICAgICAgICAgICBmdXR1cmVzLmFwcGVuZChleGVjdXRvci5zdWJtaXQoc2VuZF9mcmllbmRfcmVxdWVzdCwgcGlkKSkKICAgICAgICAKICAgICAgICBmb3IgZnV0dXJlIGluIGFzX2NvbXBsZXRlZChmdXR1cmVzKToKICAgICAgICAgICAgZnV0dXJlLnJlc3VsdCgpICAKICAgIAogIAogICAgaWYgcmVxdWVzdGVkX3BsYXllcnM6CiAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZShmIlxuV2FpdGluZyBbMjBdIHNlY29uZHMgYmVmb3JlIGNoZWNraW5nIHJlcXVlc3Qgc3RhdHVzZXMuLi4iKQogICAgICAgIHRpbWUuc2xlZXAoMjApICAKICAgICAgICBwcmludF9ncmFkaWVudF9saW5lKGYiXG5DaGVja2luZyBzdGF0dXMgb2Yge2xlbihyZXF1ZXN0ZWRfcGxheWVycyl9IHJlcXVlc3RzLi4uIikKICAgICAgICB3aXRoIFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0xKSBhcyBleGVjdXRvcjoKICAgICAgICAgICAgZnV0dXJlcyA9IFtleGVjdXRvci5zdWJtaXQoY2hlY2tfcmVxdWVzdF9zdGF0dXMsIHBpZCkgZm9yIHBpZCBpbiByZXF1ZXN0ZWRfcGxheWVyc10KICAgICAgICAgICAgZm9yIGZ1dHVyZSBpbiBhc19jb21wbGV0ZWQoZnV0dXJlcyk6CiAgICAgICAgICAgICAgICBmdXR1cmUucmVzdWx0KCkKICAgICAgICByZXF1ZXN0ZWRfcGxheWVycy5jbGVhcigpICAKCmRlZiBwcm9jZXNzX3Jvb21zKCk6CiAgCiAgICB3aGlsZSBUcnVlOgogICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUoIlxuPT09IFN0YXJ0aW5nIG5ldyBwcm9jZXNzaW5nIHJvdW5kID09PSIpCiAgICAgICAgc3RhcnRfdGltZSA9IHRpbWUudGltZSgpCiAgICAgICAgCiAgICAgCiAgICAgICAgZm9yIHJvb21faWQgaW4gcmFuZG9tLnNhbXBsZShyb29tX2lkcywgbGVuKHJvb21faWRzKSk6CiAgICAgICAgICAgIHByb2Nlc3Nfcm9vbShyb29tX2lkKQogICAgICAgICAgICB0aW1lLnNsZWVwKDUpICAKICAgICAgICAKICAgICAgICBlbGFwc2VkID0gdGltZS50aW1lKCkgLSBzdGFydF90aW1lCiAgICAgICAgc2xlZXBfdGltZSA9IG1heCgxMCAtIGVsYXBzZWQsIDQwKQogICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUoZiJcbkNvbXBsZXRlZCByb3VuZCBpbiB7ZWxhcHNlZDouMWZ9cy4gV2FpdGluZyB7c2xlZXBfdGltZTouMWZ9cy4uLiIpCiAgICAgICAgdGltZS5zbGVlcChzbGVlcF90aW1lKQpkZWYgbG9naW4oKToKICAgIG9zLnN5c3RlbSgiY2xzIiBpZiBvcy5uYW1lID09ICJudCIgZWxzZSAiY2xlYXIiKQogICAgdXNlcm5hbWUgPSBpbnB1dCgiRW50ZXIgeW91ciB1c2VybmFtZTogIikKICAgIHBhc3N3b3JkID0gaW5wdXQoIkVudGVyIHlvdXIgcGFzc3dvcmQ6ICIpCiAgICBwcmludF9ncmFkaWVudF9saW5lKCJMb2dnaW5nIGluLi4uIikKICAgIGlmIG5vdCB1c2VybmFtZSBvciBub3QgcGFzc3dvcmQ6CiAgICAgICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiVXNlcm5hbWUgYW5kIHBhc3N3b3JkIGNhbm5vdCBiZSBlbXB0eS4iKQogICAgICAgIHJldHVybgogICAgaWYgdXNlcm5hbWUgPT0gInNvOWEiIGFuZCBwYXNzd29yZCA9PSAiYWRtaW4iOgogICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUoIkxvZ2luIHN1Y2Nlc3NmdWwhIikKICAgICAgICBtYWluKCkKICAgIGVsaWYgdXNlcm5hbWUgPT0gIlJ5YW4iIGFuZCBwYXNzd29yZCA9PSAicnlhbjIzMTQiOgogICAgICAgIHByaW50X2dyYWRpZW50X2xpbmUoIkxvZ2luIHN1Y2Nlc3NmdWwhIikKICAgICAgICBtYWluKCkKCmRlZiBtYWluKCk6CiAgICBvcy5zeXN0ZW0oImNscyIgaWYgb3MubmFtZSA9PSAibnQiIGVsc2UgImNsZWFyIikKICAgIHByaW50X2dyYWRpZW50X2xpbmUoQkFOTkVSKQogICAgdXJsID0gImh0dHBzOi8vYWNjb3VudHMucmVjLm5ldC9hY2NvdW50L21lIgogICAgaGVhZGVycyA9IHsKICAgICAgICAiYXV0aG9yaXphdGlvbiI6IGYiQmVhcmVyIHthY2Nlc3NfdG9rZW59IiwKICAgIH0KICAgIHJlc3BvbnNlID0gIGh0dHB4LmdldCh1cmwsIGhlYWRlcnM9aGVhZGVycykKICAgIGlmIHJlc3BvbnNlLnN0YXR1c19jb2RlID09IDIwMDoKICAgICAgICB1c2VyID0gcmVzcG9uc2UuanNvbigpCiAgICAgICAgdXNlcm5hbWUgPSB1c2VyLmdldCgidXNlcm5hbWUiLCAiVW5rbm93biBVc2VyIikKICAgIHByaW50X2dyYWRpZW50X2xpbmUoZiIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pWUTG9naW4gYXMgPiAgQHt1c2VybmFtZX3ilZciKQogICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3ilZEiKQogICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVkSAgIFByZXNzIEVudGVyIHRvIHN0YXJ0ICDilZEiKQogICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKVmuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVnSIpCiAgICBpbnB1dCgiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiKQogICAgcHJpbnRfZ3JhZGllbnRfbGluZSgiU3RhcnRpbmcgc2NyaXB0Li4uIikKICAgIG9zLnN5c3RlbSgiY2xzIiBpZiBvcy5uYW1lID09ICJudCIgZWxzZSAiY2xlYXIiKQogICAgdGltZS5zbGVlcCgxKQogICAgcHJvY2Vzc19yb29tcygpCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICAgICAgbG9naW4oKQ=="
    run_base64_encoded(encoded_script)
